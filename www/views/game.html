<ion-view title="/game">
	<result-modal></result-modal>
    <menu-header></menu-header>
	<menu-button></menu-button>
    <ion-content ng-class="{'has-header':test.menuhide%2 !== 0}">
        <div class="container center-align">
          <div class="row">
            <div class="col">
              <div class="card">
                <div class="card-image">
                  <div class="progress" style="margin-top:0px;background-color:#dadcda;">
                      <div class="determinate btn-green" style="width: {{progress}}%" 
                           ng-class="{'btn-green':prize === true, 'btn-black':wully==true, 'btn-grey': practice === true}"></div>
                  </div>
                  <div class="chip animated bounce" style="left:0;bottom:0;z-index:5;margin-left:5px;" 
                       ng-class="{hide:game.subcategory == ''|| show_points == true}">{{game.subcategory}}</div>
                  <img ng-src="{{game.url}}" ng-style="newstyle = (show_points == true)?{filter:'blur(10px)'}:null">
                  <a class="btn-floating btn-large halfway-fab waves-effect waves-light main-color points-box"
                     ng-class="{'hide': show_points == true, 'main-color':wully !== true, 'wully-color':wully==true}">
                      <span>750 </span><span class="tiny-points">pts</span>
                  </a>
                  <a class="btn-floating btn-large halfway-fab waves-effect waves-light btn-green w3-animate-bottom points-box"
                     ng-class="{'hide': show_points !== true}">
                      <span>{{test.point_earned}}/750 </span><span class="tiny-points">pts</span>
                  </a>
                  <div class="wully" ng-class="{'hide':wully !== true || show_points == true || hide_question == true}" 
					   ng-bind-html="game.question"
					   on-touch="hide_question = true" on-release="hide_question = false">
				  </div>
				  <div class="wully" ng-class="{'hide':practice !== true || show_points !== true}" ng-bind-html="'$'+game.price"></div>
                </div>
                <div class="card-content" style="padding-top: 50px;">
                  <p class="price" ng-click="inputShow()" ng-class="{hide:manualprice !== false}">
                      <span ng-class="{hide:wully == true}">$</span>{{test.price}} {{game.context}} 
					  <span class="right">
						  <i class="material-icons" ng-class="{hide:show_points == true}">edit</i>
						  <span ng-class="{hide:show_points !== true || !prize}">
						  	<i class="material-icons">replay</i><span style="font-size:13px;">{{retryNum}}</span>
						  </span>
					  </span>
                  </p>
    
                  <div ng-class="{hide: manualprice !== true}">
                      <form name="myForm" ng-submit="submitPrediction()">
                          <input type="number" ng-model="test.second_price" format-price style="font-size:39px;">
                          <input type="submit" value="Submit" hidden>
                      </form>
                  </div>
                </div>
              </div>
            </div>            
        </div>
        <div class="row">
            <div class="col z-depth-2" style="padding-bottom:15px;margin-top:-8%;">
                <div class="progress" style="margin-top:0px;background-color:#dadcda;">
                    <div class="determinate btn-green" style="width: {{progress}}%" 
                            ng-class="{'btn-green':prize === true, 'btn-black':wully==true, 'btn-grey': practice === true}"></div>
                </div>
                <form ng-class="{hide: show_points == true}">
                    <p class="range-field" ng-if="manualprice == false">
                      <input type="range" id="test5"  min="0" max="500" ng-model="test.price"
                             ng-class="{'hide':wully === true}"/>
                      <input type="range" class="wully-range" min="{{game.min || 0}}" max="{{game.max || 500}}" ng-model="test.price" ng-class="{'hide':wully !== true}"/>
                    </p>
                </form>
                <br>
                <a class="waves-effect waves-light btn-large btn-full z-depth-1 btn-green animated fadeIn"
                   ng-click="submitPrediction()"
                   ng-class="{'hide': show_points == true, 'btn-green':prize ===true, 'btn-black':wully===true, 'btn-grey': practice === true}">
                    <span>ENTER</span>
                </a>
                <a class="waves-effect waves-light btn-large btn-full z-depth-1 main-color"
                   ng-class="{'hide': show_points !== true, 'main-color':wully !== true, 'wully-color':wully==true}"
				   ng-click="nextProduct()">
                    <span>NEXT</span> <i class="material-icons right">chevron_right</i>
<!--
                        <div class="preloader-wrapper small active">
                            <div class="spinner-layer spinner-white-only">
                              <div class="circle-clipper left">
                                <div class="circle"></div>
                              </div><div class="gap-patch">
                                <div class="circle"></div>
                              </div><div class="circle-clipper right">
                                <div class="circle"></div>
                              </div>
                            </div>
                      </div>
-->
                </a>
            </div>

        </div>
     </div>
    </ion-content>
</ion-view>
